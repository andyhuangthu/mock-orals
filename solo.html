---
permalink: /
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="Cache-Control" content="no-store" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Mock Orals</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css"
          integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">


    <link rel="apple-touch-icon" sizes="180x180" href="/mock-orals/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/mock-orals/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/mock-orals/img/favicon-16x16.png">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="solo.js" type="module"></script>
    <script src="https://kit.fontawesome.com/06b44fd96d.js" crossorigin="anonymous"></script><link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Sigmar&display=swap" rel="stylesheet">
</head>

<body>
    
    <p class="cache-reload-p">
        You should not be seeing this message! If you are, the browser has cached this website and newer updates will not appear. To see the updated version, do a hard reload of this page as outlined below.
    </p>
    <p class="cache-reload-p">
        <b>Chrome:</b>
        Option 1: Hold down Ctrl and click the Reload button (Windows) or Shift and click the Reload button (Mac)
        Option 2: Hold down Ctrl and press F5 (Windows) or Cmd and Shift and R (Mac)
    </p>
    <p class="cache-reload-p">
        <b>Firefox:</b>
        Option 1: Hold Ctrl and press the F5 key (Windows) or Shift and click the Reload button (Mac)
        Option 2: Hold down Ctrl and Shift and R (Windows) or Cmd and Shift and R (Mac)
    </p>
    <p class="cache-reload-p">
        <b>Internet Explorer:</b>
        Option 1: Hold Ctrl and press the F5 key
        Option 2: Hold the Ctrl key and click the Refresh button.
    </p>
    <p class="cache-reload-p">
        <b>Safari:</b>
        Press Shift and click the Reload button
    </p>
    <div class="nav-pill">
        <a href="/mock-orals/classic/">Classic</a>
        <a href="/mock-orals/" class="active">Solo</a>
        <a href="/mock-orals/duos/">Duos</a>
    </div>
    
    <div id="curtain"></div>
    <div id="optionbar">
        <div id="center-options-ctr">
            <button id="play-btn" class="timer-btn">
                <i class="fa-solid fa-play"></i>
            </button>
            <div id="timer">
                <input id="minutes" maxlength="2" value="04" placeholder="00" type="number" data-gramm="false" data-gramm_editor="false" data-enable-grammarly="false">:<input id="seconds" maxlength="2" value="00" placeholder="00" type="number" data-gramm="false" data-gramm_editor="false" data-enable-grammarly="false">
            </div>
            <button id="reset-btn" class="timer-btn" disabled>
                <i class="fa-solid fa-arrow-rotate-left"></i>
            </button>
        </div>
    </div>
    <div id="content-ctr" class="container-fluid">
    <div id="content">
        <div id="generator2" class="form-horizontal">
            <div>
                <h2 class="text-center">Passage Settings</h2>
                <div class="form-group">
                    <label for="version">Bible Translation</label>
                    <select id="version" required="required">
                        <option value="ESV" selected="selected">ESV - English Standard Version</option>
                        <option value="NIV">NIV - New International Version</option>
                        <option value="NKJV">NKJV - New King James Version</option>
                        <option value="KJV">KJV - King James Version</option>
                        <option value="NASB">NASB - New American Standard Bible</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="division">Division</label>
                    <select id="division" required="required">
                        <option selected="selected" value="Senior">Senior</option>
                        <option value="Junior">Junior</option>
                        <option value="Primary">Primary</option>
                    </select>
                </div>
                <div id="speech_rate_group" class="form-group">
                    <label for="min_wpm">Speech Rate</label>
                    <div>
                        <input id="min_wpm" type="text" class="wpm" style="display: inline" placeholder="125"/>
                        to
                        <input id="max_wpm" type="text" class="wpm" style="display: inline" placeholder="140"/>
                        words per minute
                    </div>
                </div>
                <div id="max_words_group" class="form-group">
                    <label for="max_words">Maximum Passage Size</label>
                    <div>
                        <input id="max_words" type="text" class="wpm" style="display: inline" placeholder="350" /> words
                    </div>
                </div>
                <div id="minutes_group" class="form-group">
                <label for="minutes">Minutes to recite</label>
                    <div>
                        <input id="minutes" type="text" class="form-control wpm" style="display: inline" placeholder="4" /> minutes
                    </div>
                </div>
                <div id="text-size-ctr" class="form-group">
                    <label>Text Size</label>
                    <br>
                    <label for="small"><input id="small" name="text-size" class="text-size" value="14px" type="radio">S</label>
                    <label for="mid"><input id="mid" name="text-size" class="text-size" value="18px" type="radio" checked>M</label>
                    <label for="large"><input id="large" name="text-size" class="text-size" value="22px" type="radio">L</label>
                </div>
                <div class="form-group">
                    <label for="theme">Theme</label>
                    <select id="theme" required="required">
                        <option selected="selected" value="light">Light</option>
                        <option value="dark">Dark</option>
                        <option value="high-contrast-light">Light (High Contrast)</option>
                        <option value="high-contrast-dark">Dark (High Contrast)</option>
                    </select>
                </div>
                <div class="form-group">
                    <input type="checkbox" name="hide-text" id="hide-text">
                    <label for="hide-text">Hide Text</label>
                </div>
                <div class="form-group">
                    <button id="generate" type="button" class="theme-btn">Generate</button> 6-12 passages to recite
                </div>
            </div>
            <div id="close-generator-btn" class="close-btn">&times;</div>
            <div id="errors" class="text-danger"></div>
        </div>
        
        <h1 class="text-center">Bible Bee Mock Orals</h1>

        <div id="solo-timer-ctr">
            <div id="solo-timer">
                <svg id="st-svg" viewBox="0 0 100 100">
                    <g id="st-circle">
                        <circle id="st-bg" cx="50%" cy="50%" r="45"></circle>
                        <circle id="st-time" cx="50%" cy="50%" r="45"></circle>
                    </g>
                </svg>
                <input id="st-minutes" maxlength="2" value="08" placeholder="00" type="number" data-gramm="false" data-gramm_editor="false" data-enable-grammarly="false">:<input id="st-seconds" maxlength="2" value="00" placeholder="00" type="number" data-gramm="false" data-gramm_editor="false" data-enable-grammarly="false">
            </div>
            <div id="st-btn-ctr">
                <button id="st-play-btn" class="st-timer-btn">Start</button>
                <button id="st-reset-btn" class="st-timer-btn" disabled>Reset</button>
            </div>
        </div>

        <div id="passage-settings-ctr">
            <button id="generate-btn" class="control-btn theme-btn">
                <i class="fa-solid fa-repeat"></i><span>&nbsp;Generate</span>
            </button>
            <button id="settings-btn" class="control-btn theme-btn">
                <i class="fa-solid fa-gear"></i><span>&nbsp;Settings</span>
            </button>
            <button id="close-timer-btn" class="control-btn theme-btn">
                <i class="fa-regular fa-clock"></i><span>&nbsp;Close Timer</span>
            </button>
        </div>

        <div id="passages" style="font-size:16px">
            <div id="passages-ctr"></div>
        </div>
    </div>
    </div>
    <script>
        var timerOpen = true

        // load local storage
        const themeSelector = document.querySelector("#theme")
        const versionSelector = document.querySelector("#version")
        const divisionSelector = document.querySelector("#division")
        window.onload = () => {
            var version = localStorage.getItem("version")
            if (version) {
                for (let i = 0; i < versionSelector.options.length; i++) {
                    if (versionSelector.options[i].value == version) {
                        versionSelector.options[i].selected = true
                    }
                }
            }
            var division = localStorage.getItem("division")
            if (division) {
                for (let i = 0; i < divisionSelector.options.length; i++) {
                    if (divisionSelector.options[i].value == division) {
                        divisionSelector.options[i].selected = true
                    }
                }
            }
            var theme = localStorage.getItem("theme")
            if (theme) {
                for (let i = 0; i < themeSelector.options.length; i++) {
                    if (themeSelector.options[i].value == theme) {
                        themeSelector.options[i].selected = true
                        document.querySelector("html").setAttribute("data-theme", theme)
                    }
                }
            }
            var fontSize = localStorage.getItem("font-size")
            if (fontSize) {
                document.querySelectorAll(".text-size").forEach(radio => {
                    if (radio.value == fontSize) {
                        radio.checked = true
                        passages.style.fontSize = radio.value
                    }
                    else {
                        radio.checked = false
                    }
                })
            }
        }

        // sense scroll
        const optionbar = document.querySelector("#optionbar")
        var optionbarAnimating = false
        window.addEventListener("scroll", () => {
            if (!optionbarAnimating)
            {
                // console.log(window.scrollY, timerOpen)
                if (window.scrollY > 100 && (optionbar.style.animationName == "optionbar-disappear" || !optionbar.style.animationName) && timerOpen) {
                    optionbar.style.animationName = "optionbar-appear"
                    optionbar.style.animationPlayState = "running"
                    optionbarAnimating = true
                }
                else if(window.scrollY <= 100 && optionbar.style.animationName == "optionbar-appear" && timerOpen) {
                    optionbar.style.animationName = "optionbar-disappear"
                    optionbar.style.animationPlayState = "running"
                    optionbarAnimating = true
                }

            }
            else if (window.scrollY <= 100 && timerOpen) {
                optionbar.style.animationName = "optionbar-disappear"
                optionbar.style.animationPlayState = "running"
                optionbarAnimating = true
            }
        })

        optionbar.addEventListener("animationend", () => {
            optionbarAnimating = false
        })

        // close settings
        const closeGenerator = document.querySelector("#close-generator-btn")
        const generator = document.querySelector("#generator2")
        const curtain = document.querySelector("#curtain")
        document.addEventListener("DOMContentLoaded", () => {
            // close settings
            [closeGenerator, curtain].forEach(ele => {
                ele.addEventListener("click", () => {
                    generator.style.display = "none"
                    curtain.style.display = "none"
                })
            }) 
        })
        
        
        // open settings
        const controlGenerator = document.querySelector("#settings-btn")
        controlGenerator.addEventListener("click", () => {
            generator.style.display = ""
            curtain.style.display = ""
        })

        // passage settings
        // hide text
        const passages = document.querySelector("#passages")
        const hideTextCheck = document.querySelector("#hide-text")

        hideTextCheck.addEventListener("change", () => {
            if (hideTextCheck.checked) {
                passages.classList.add("hide-text-ctr")
            }
            else {
                passages.classList.remove("hide-text-ctr")
            }
        })

        // change font size
        document.querySelectorAll(".text-size").forEach(radio => {
            radio.addEventListener("change", () => {
                passages.style.fontSize = radio.value
                // save to local storage
                localStorage.setItem("font-size", radio.value)
            })
        })

        // change color theme
        themeSelector.addEventListener("change", () => {
            document.querySelector("html").setAttribute('data-theme', themeSelector.value)
            // save to local storage
            localStorage.setItem("theme", themeSelector.value)
        })

        // save version to local storage
        versionSelector.addEventListener("change", () => {
            localStorage.setItem("version", versionSelector.value)
        })

        // save division to local storage
        divisionSelector.addEventListener("change", () => {
            localStorage.setItem("division", divisionSelector.value)
        })

        // timer
        const timer = document.querySelector("#timer")
        const soloTimer = document.querySelector("#solo-timer")
        const playBtn = document.querySelector("#play-btn")
        const resetBtn = document.querySelector("#reset-btn")
        const soloPlayBtn = document.querySelector("#st-play-btn")
        const soloResetBtn = document.querySelector("#st-reset-btn")
        const minutesSpan = document.querySelector("#minutes")
        const secondsSpan = document.querySelector("#seconds")
        const soloMinutesSpan = document.querySelector("#st-minutes")
        const soloSecondsSpan = document.querySelector("#st-seconds")
        const timeSVG = document.querySelector("#st-time")
        var originalMinutes = minutes = parseInt(minutesSpan.value)
        var originalSeconds = seconds = parseInt(secondsSpan.value)
        // accounting for 1 digit
        if (originalMinutes < 10) {
            originalMinutes = `0${originalMinutes}`
        }
        if (originalSeconds < 10) {
            originalSeconds = `0${originalSeconds}`
        }
        var alarm = new Audio("/mock-orals/mp3/reverb.mp3")
        alarm.loop = false
        var playing = false
        var countdown

        function playAlarm() {
            alarm.play()
        }

        // TODO: allow user editing of time
        // TODO: detect changes to timer inputs and prevent invalid inputs
        // change value to placeholder on focus
        function updatePlaceholder(obj) {
            // number?
            if (obj.value >= '0' && obj.value <= '9') {
                obj.placeholder = obj.placeholder.slice(-1) + obj.value
            }
            obj.value = ""
            // update svg
            timeSVG.style.strokeDasharray = `${(minutes * 60 + seconds - 1) / (parseInt(originalMinutes) * 60 + parseInt(originalSeconds)) * 283} 283`
        }

        function updateTime(obj1, obj2, val=60) {
            obj1.value = obj2.value = obj1.placeholder < val ? obj1.placeholder : val - 1
            return parseInt(obj1.value)
        }

        function timeToPlaceholder (obj, val=2) {
            if (obj.value.length == val)
            {
                obj.placeholder = obj.value 
            }
            obj.value = ""
        }

        minutesSpan.addEventListener("focus", () => {timeToPlaceholder(minutesSpan)})
        soloMinutesSpan.addEventListener("focus", () => {timeToPlaceholder(soloMinutesSpan)})
        // change placeholder to value on focusout
        minutesSpan.addEventListener("focusout", () => {minutes = updateTime(minutesSpan, soloMinutesSpan, 100)})
        soloMinutesSpan.addEventListener("focusout", () => {minutes = updateTime(soloMinutesSpan, minutesSpan, 100)})
        minutesSpan.addEventListener("input", () => {updatePlaceholder(minutesSpan)})
        soloMinutesSpan.addEventListener("input", () => {updatePlaceholder(soloMinutesSpan)})
        // change value to placeholder on focus
        secondsSpan.addEventListener("focus", () => {timeToPlaceholder(secondsSpan)})
        soloSecondsSpan.addEventListener("focus", () => {timeToPlaceholder(soloSecondsSpan)})
        // change placeholder to value on focusout
        secondsSpan.addEventListener("focusout", () => {seconds = updateTime(secondsSpan, soloSecondsSpan)})
        soloSecondsSpan.addEventListener("focusout", () => {seconds = updateTime(soloSecondsSpan, secondsSpan)})
        secondsSpan.addEventListener("input", () => {updatePlaceholder(secondsSpan)})
        soloSecondsSpan.addEventListener("input", () => {updatePlaceholder(soloSecondsSpan)})

        // pause timer when clicked
        function pauseTimer() {
            if (playing) {
                playing = false
                playBtn.querySelector("i").classList.remove("fa-pause")
                playBtn.querySelector("i").classList.add("fa-play")
                soloPlayBtn.innerHTML = "Start"
                clearInterval(countdown)
            }
        }

        timer.addEventListener("click", pauseTimer)

        soloTimer.addEventListener("click", pauseTimer)

        function timerControl() {
            // change icons
            if (!playing) {
                playing = true
                playBtn.querySelector("i").classList.remove("fa-play")
                playBtn.querySelector("i").classList.add("fa-pause")
                soloPlayBtn.innerHTML = "Pause"
                soloResetBtn.disabled = false
                resetBtn.disabled = false
                // set time
                countdown = setInterval(() => {
                    // update countdown graphic
                    timeSVG.style.strokeDasharray = `${(minutes * 60 + seconds - 1) / (parseInt(originalMinutes) * 60 + parseInt(originalSeconds)) * 283} 283`
                    // timer reached 0
                    if (seconds <= 0 && minutes <= 0) {
                        clearInterval(countdown)
                        seconds = 0
                        minutes = 0
                        secondsSpan.value = "00"
                        minutesSpan.value = "00"
                        soloSecondsSpan.value = "00"
                        soloMinutesSpan.value = "00"
                        playAlarm()
                        playBtn.disabled = true
                        soloPlayBtn.disabled = true
                    }
                    else {
                        if (seconds > 0) {
                            seconds--
                        } else {
                            seconds = 59
                            minutes--
                        }
                        // accounting for 1 digit
                        if (seconds < 10) {
                            secondsSpan.value = `0${seconds}`
                            soloSecondsSpan.value = `0${seconds}`
                        } else {
                            secondsSpan.value = seconds
                            soloSecondsSpan.value = seconds
                        }
                        if (minutes < 10) {
                            minutesSpan.value = `0${minutes}`
                            soloMinutesSpan.value = `0${minutes}`
                        } else {
                            minutesSpan.value = minutes
                            soloMinutesSpan.value = minutes
                        }
                    }
                }, 1000)
            }
            else {
                playing = false
                playBtn.querySelector("i").classList.remove("fa-pause")
                playBtn.querySelector("i").classList.add("fa-play")
                soloPlayBtn.innerHTML = "Start"
                clearInterval(countdown)
            }
        }

        // play/pause
        playBtn.addEventListener("click", timerControl)

        soloPlayBtn.addEventListener("click", timerControl)

        function resetTimer() {
            if (!soloResetBtn.disabled || !resetBtn.disabled) {
                playing = false
                // stop
                playBtn.querySelector("i").classList.remove("fa-pause")
                playBtn.querySelector("i").classList.add("fa-play")
                soloPlayBtn.innerHTML = "Start"
                clearInterval(countdown)
                alarm.pause()

                // reset
                secondsSpan.value = originalSeconds
                minutesSpan.value = originalMinutes
                soloSecondsSpan.value = originalSeconds
                soloMinutesSpan.value = originalMinutes
                seconds = originalSeconds
                minutes = originalMinutes
                playBtn.disabled = false
                resetBtn.disabled = true
                soloPlayBtn.disabled = false
                soloResetBtn.disabled = true
                timeSVG.style.strokeDasharray = `${(minutes * 60 + seconds - 1) / (parseInt(originalMinutes) * 60 + parseInt(originalSeconds)) * 283} 283`
            }
        }

        // reset timer and stop it as well
        resetBtn.addEventListener("click", resetTimer)

        soloResetBtn.addEventListener("click", resetTimer)

        // open or close timer
        const controlTimer = document.querySelector("#close-timer-btn")
        const soloTimerCtr = document.querySelector("#solo-timer-ctr")
        
        controlTimer.addEventListener("click", () => {
            if (timerOpen) {
                controlTimer.querySelector("span").innerHTML = "&nbsp;Open Timer"
                timerOpen = false
                optionbar.style.display = "none"
                soloTimerCtr.style.display = "none"
                if (window.scrollY > 100 && (optionbar.style.animationName == "optionbar-disappear" || !optionbar.style.animationName)) {
                    optionbar.style.animationName = "optionbar-appear"
                    optionbar.style.animationPlayState = "running"
                    optionbarAnimating = true
                }
            }
            else {
                controlTimer.querySelector("span").innerHTML = "&nbsp;Close Timer"
                timerOpen = true
                optionbar.style.display = ""
                soloTimerCtr.style.display = ""
                if(window.scrollY <= 100 && optionbar.style.animationName == "optionbar-appear") {
                    optionbar.style.animationName = "optionbar-disappear"
                    optionbar.style.animationPlayState = "running"
                    optionbarAnimating = true
                }
            }
        })
    </script>
    <script> </script>
</body>
</html>
